[supervisord]
; Mantiene el proceso en primer plano (requerido por Render/Docker)
nodaemon=true
logfile=/dev/null
pidfile=/tmp/supervisord.pid

; ==========================
;  SERVICIO PHP-FPM
; ==========================
[program:php-fpm]
; Inicia PHP-FPM en primer plano (-F)
command=php-fpm -F
autostart=true
autorestart=true
startretries=3
priority=10

; Logs dirigidos a la consola (para Render/Docker)
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0

; ==========================
;  SERVICIO NGINX
; ==========================
[program:nginx]
; Inicia Nginx en modo no daemon (para ser gestionado por Supervisor)
command=/usr/sbin/nginx -g "daemon off;"
autostart=true
autorestart=true
startretries=3
priority=20

; Logs dirigidos a la consola
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0
